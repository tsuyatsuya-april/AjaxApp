{"ast":null,"code":"function memo() {\n  var submit = document.getElementById(\"submit\");\n  submit.addEventListener(\"click\", function (e) {\n    var formData = new FormData(document.getElementById(\"form\"));\n    var XHR = new XMLHttpRequest();\n    XHR.open(\"POST\", \"/posts\", true);\n    XHR.responseType = \"json\";\n    XHR.send(formData);\n\n    XHR.onload = function () {\n      var item = XHR.response.post;\n      var list = document.getElementById(\"list\");\n      var formText = document.getElementById(\"content\");\n      var HTML = \"\\n        <div class=\\\"post\\\" data-id=\".concat(item.id, \">\\n          <div class=\\\"post-date\\\">\\n            \\u6295\\u7A3F\\u65E5\\u6642\\uFF1A\").concat(item.created_at, \"\\n          </div>\\n          <div class=\\\"post-content\\\">\\n          \").concat(item.content, \"\\n          </div>\\n        </div>\");\n      list.insertAdjacentHTML(\"afterend\", HTML);\n      formText.value = \"\";\n\n      if (XHR.status != 200) {\n        alert(\"Error \".concat(XHR.status, \": \").concat(XHR.statusText));\n      } else {\n        return null;\n      }\n    };\n\n    XHR.onerror = function () {\n      alert(\"Request failed\");\n    };\n\n    e.preventDefault();\n  });\n}\n\nwindow.addEventListener(\"load\", memo); // function memo() {\n//   const submit =document.getElementById(\"submit\");\n//   submit.addEventListener(\"click\", (e) => {\n//     const formData = new FormData(document.getElementById(\"form\"));\n//     const XHR = new XMLHttpRequest();\n//     XHR.open(\"POST\", \"/posts\", true);\n//     XHR.responseType = \"json\";\n//     XHR.send(formData);\n//     XHR.onload = () => {\n//       const item = XHR.response.post;\n//       const list = document.getElementById(\"list\");\n//       const formText = document.getElementById(\"content\");\n//       const HTML = `\n//         <div class=\"post\" data-id=${item.id}>\n//           <div class=\"post-date\">\n//             投稿日時: ${item.created_at}\n//           </div>\n//           <div class=\"post-content\">\n//           ${item.content}\n//           </div>\n//         </div>`;\n//       list.insertAdjacentHTML('afterend', HTML);\n//       formText.value = \"\";\n//       if (XHR.status != 200) {\n//         alert(`Error ${XHR.status}: ${XHR.statusText}`);\n//       } else {\n//         return null;\n//       }\n//     };\n//     XHR.onerror = function () {\n//       alert(\"Request failed\");\n//     };\n//     e.preventDefault();\n//   })\n// }\n// window.addEventListener(\"load\", memo);","map":{"version":3,"sources":["/Users/numatatetsuya/projects/AjaxApp/app/javascript/memo.js"],"names":["memo","submit","document","getElementById","addEventListener","e","formData","FormData","XHR","XMLHttpRequest","open","responseType","send","onload","item","response","post","list","formText","HTML","id","created_at","content","insertAdjacentHTML","value","status","alert","statusText","onerror","preventDefault","window"],"mappings":"AAAA,SAASA,IAAT,GAAgB;AACd,MAAMC,MAAM,GAAGC,QAAQ,CAACC,cAAT,CAAwB,QAAxB,CAAf;AACAF,EAAAA,MAAM,CAACG,gBAAP,CAAwB,OAAxB,EAAiC,UAACC,CAAD,EAAO;AACtC,QAAMC,QAAQ,GAAG,IAAIC,QAAJ,CAAaL,QAAQ,CAACC,cAAT,CAAwB,MAAxB,CAAb,CAAjB;AACA,QAAMK,GAAG,GAAG,IAAIC,cAAJ,EAAZ;AACAD,IAAAA,GAAG,CAACE,IAAJ,CAAS,MAAT,EAAiB,QAAjB,EAA2B,IAA3B;AACAF,IAAAA,GAAG,CAACG,YAAJ,GAAmB,MAAnB;AACAH,IAAAA,GAAG,CAACI,IAAJ,CAASN,QAAT;;AACAE,IAAAA,GAAG,CAACK,MAAJ,GAAa,YAAM;AACjB,UAAMC,IAAI,GAAGN,GAAG,CAACO,QAAJ,CAAaC,IAA1B;AACA,UAAMC,IAAI,GAAGf,QAAQ,CAACC,cAAT,CAAwB,MAAxB,CAAb;AACA,UAAMe,QAAQ,GAAGhB,QAAQ,CAACC,cAAT,CAAwB,SAAxB,CAAjB;AACA,UAAMgB,IAAI,mDACoBL,IAAI,CAACM,EADzB,+FAGGN,IAAI,CAACO,UAHR,mFAMJP,IAAI,CAACQ,OAND,uCAAV;AASAL,MAAAA,IAAI,CAACM,kBAAL,CAAwB,UAAxB,EAAoCJ,IAApC;AAEAD,MAAAA,QAAQ,CAACM,KAAT,GAAiB,EAAjB;;AAEA,UAAIhB,GAAG,CAACiB,MAAJ,IAAc,GAAlB,EAAuB;AACrBC,QAAAA,KAAK,iBAAUlB,GAAG,CAACiB,MAAd,eAAyBjB,GAAG,CAACmB,UAA7B,EAAL;AACD,OAFD,MAEO;AACL,eAAO,IAAP;AACD;AACF,KAtBD;;AAwBAnB,IAAAA,GAAG,CAACoB,OAAJ,GAAc,YAAY;AACxBF,MAAAA,KAAK,CAAC,gBAAD,CAAL;AACD,KAFD;;AAIArB,IAAAA,CAAC,CAACwB,cAAF;AACD,GAnCD;AAoCD;;AACDC,MAAM,CAAC1B,gBAAP,CAAwB,MAAxB,EAAgCJ,IAAhC,E,CAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","sourcesContent":["function memo() {\n  const submit = document.getElementById(\"submit\");\n  submit.addEventListener(\"click\", (e) => {\n    const formData = new FormData(document.getElementById(\"form\"));\n    const XHR = new XMLHttpRequest();\n    XHR.open(\"POST\", \"/posts\", true);\n    XHR.responseType = \"json\";\n    XHR.send(formData);\n    XHR.onload = () => {\n      const item = XHR.response.post;\n      const list = document.getElementById(\"list\");\n      const formText = document.getElementById(\"content\");\n      const HTML = `\n        <div class=\"post\" data-id=${item.id}>\n          <div class=\"post-date\">\n            投稿日時：${item.created_at}\n          </div>\n          <div class=\"post-content\">\n          ${item.content}\n          </div>\n        </div>`;\n      list.insertAdjacentHTML(\"afterend\", HTML);\n\n      formText.value = \"\";\n\n      if (XHR.status != 200) {\n        alert(`Error ${XHR.status}: ${XHR.statusText}`);\n      } else {\n        return null;\n      }\n    };\n\n    XHR.onerror = function () {\n      alert(\"Request failed\");\n    };\n\n    e.preventDefault();\n  })\n}\nwindow.addEventListener(\"load\", memo);\n\n\n// function memo() {\n//   const submit =document.getElementById(\"submit\");\n//   submit.addEventListener(\"click\", (e) => {\n//     const formData = new FormData(document.getElementById(\"form\"));\n//     const XHR = new XMLHttpRequest();\n//     XHR.open(\"POST\", \"/posts\", true);\n//     XHR.responseType = \"json\";\n//     XHR.send(formData);\n//     XHR.onload = () => {\n//       const item = XHR.response.post;\n//       const list = document.getElementById(\"list\");\n//       const formText = document.getElementById(\"content\");\n//       const HTML = `\n//         <div class=\"post\" data-id=${item.id}>\n//           <div class=\"post-date\">\n//             投稿日時: ${item.created_at}\n//           </div>\n//           <div class=\"post-content\">\n//           ${item.content}\n//           </div>\n//         </div>`;\n//       list.insertAdjacentHTML('afterend', HTML);\n\n//       formText.value = \"\";\n\n//       if (XHR.status != 200) {\n//         alert(`Error ${XHR.status}: ${XHR.statusText}`);\n//       } else {\n//         return null;\n//       }\n//     };\n//     XHR.onerror = function () {\n//       alert(\"Request failed\");\n//     };\n//     e.preventDefault();\n//   })\n// }\n// window.addEventListener(\"load\", memo);"]},"metadata":{},"sourceType":"module"}